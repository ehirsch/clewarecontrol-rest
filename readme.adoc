= Clewarecontrol REST

== A RESTful API for the clewarecontrol binary

image:https://travis-ci.org/ehirsch/clewarecontrol-rest.svg?branch=master["Build Status", link="https://travis-ci.org/ehirsch/clewarecontrol-rest"]
image:https://codecov.io/github/ehirsch/clewarecontrol-rest/coverage.svg?branch=master["Code Coverage", link="https://codecov.io/github/ehirsch/clewarecontrol-rest?branch=master"]
image:https://badge.waffle.io/ehirsch/clewarecontrol-rest.png?label=ready&title=Ready[link="http://waffle.io/ehirsch/clewarecontrol-rest"]
image:https://img.shields.io/:license-MIT-blue.svg[link="LICENSE.adoc"]

This is a small http://projects.spring.io/spring-boot/[Springboot^] app written in Groovy. It provides a RESTful API for USB-devices from the _cleware GmbH_ by utilizing the clewarecontrol binary created by https://www.vanheusden.com/[Folkert van Heusden^].

If you never heard about http://www.cleware-shop.de/[Cleware^] or https://github.com/flok99/clewarecontrol[clewarecontrol^] check them out.

== How to run

In any case you need to have at least one Cleware device connected to the host this is running on.

=== From source

Clone this repository and call

[source:bash]
----
./gradlew bootRun
----
This will start a server on port 8080. You can check it by navigating your browser to:

 http://localhost:8080


=== From binary

TBD

=== With docker

TBD

== Usage

NOTE: In a future Version (read: 0.2) this will be replaced by a 'real' usage guide using Spring-REST-Doc

For the time being there is only one endpoint:

 GET /trafficLights

Will list links to each "USB-Ampel" connected to the host running this app.

 GET /trafficLights/<id>

Will provide the state of a concrete traffic light. (<id> is the actual id of the device).

 PUT /trafficLights/<id>
 {
  "r":true|false,
  "y":true|false,
  "g":true|false
 }

Will set the state of the identified device.






